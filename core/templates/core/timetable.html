{% extends "core/base.html" %}

{% block content %}
<h2>Timetable</h2>

{% if entries %}
<table>
    <tr>
        <th>Day</th>
        <th>Period</th>
        <th>Subject</th>
        <th>Teacher</th>
        <th>Room</th>
    </tr>
    {% for entry in entries %}
    <tr>
        <td>{{ entry.day }}</td>
        <td>{{ entry.period }}</td>
        <td>{{ entry.subject }}</td>
        <td>{{ entry.teacher.get_full_name|default:entry.teacher.username }}</td>
        <td>{{ entry.room }}</td>
    </tr>
    {% endfor %}
</table>
<hr>
<h3>Test Mark Attendance (Manual)</h3>
<form method="post" action="{% url 'mark_attendance' %}">
    {% csrf_token %}
    <label>Student ID: <input type="number" name="student_id"></label><br>
    <label>Timetable ID: <input type="number" name="timetable_id"></label><br>
    <label>Date (YYYY-MM-DD): <input type="text" name="date"></label><br>
    <label>Method: <input type="text" name="method" value="QR"></label><br>
    <button type="submit">Mark Present</button>
</form>

{% else %}
<p>No timetable entries yet.</p>
{% endif %}
{% endblock %}
